---
import Transition from './Transition.astro';

export interface Props {
	srcset: string;
    alt: string;
    position?: string;
    centerImageSrcset?: string;
    centerImageAlt?: string;
    bottomTransitionColor?: string;
}

const {
    srcset,
    alt,
    position = "50% 50%",
    centerImageSrcset,
    centerImageAlt,
    bottomTransitionColor = "var(--background-color)",
} = Astro.props;
---

<div class="wrapper">
    <img
        srcset={srcset}
        alt={alt}
        class="header-image"
        style={`object-position: ${position}`}
    />
    {centerImageSrcset && (
        <img
            srcset={centerImageSrcset}
            alt={centerImageAlt || ''}
            class="center-image"
        />
    )}
    <div class="bottom-transition">
        <Transition
            color={bottomTransitionColor}
        />
    </div>
</div>

<style is:inline>
    .wrapper {
        width: 100%;
        height: calc(100vh - 100px);
        position: relative;
    }

    .header-image {
        object-fit: cover;
        height: 100%;
        width: 100%;
        display: block;
    }

    .center-image {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        max-width: calc(100vw - 80px);
        width: 228px;
        user-select: none;
        pointer-events: none;
    }

    .bottom-transition {
        position: absolute;
        bottom: 0;
        width: 100%;
    }
</style>
